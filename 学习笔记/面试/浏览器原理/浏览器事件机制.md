# 浏览器事件机制

## 1.什么是事件

事件是用户与浏览器进行交互时产生的动作，比如用户点击时会产生点击事件，事件除了用户主动触发外，还可以是文档加载，窗口滚动，事件被封装为一个event对象，包含着事件发生时的所有相关的信息，以及一些操作方法

事件一共有三种模型：

+   DOM0级事件模型:该模型不会传播，直接在dom对象注册事件名称 例如`btn.onclick=function(){/**xxx*/}`或者`<input onclick="alert('thanks');" >`
+   IE事件模型:该模型无捕获阶段，只存在处理阶段和冒泡阶段，通过attachEvent来添加函数
+   DOM2级事件模型:该模型拥有捕获、处理、冒泡三阶段，通过`addEventListener`函数进行绑定，`addEventListener`第三个参数决定事件是否在捕获阶段执行，

## 2.如何阻止事件冒泡

+   通过调用`event.stopPropagation()`函数来防止调用相同事件的传播。
+   通过调用`event.stopImmediatePropagation()` 同样也能实现阻止事件，还能阻止该事件目标执行别的注册事件。

## 3.如何理解事件委托

事件委托本质上利用了事件的冒泡机制，一般用于子节点众多，不便于给每一个子节点都绑定一个事件函数，这时候可以给他们的共同父节点绑定事件，通过冒泡的方式，逐渐向上查找，找到绑定事件的父节点，再进行统一处理

但是不是所有的事件能都进行事件委托，一些没有冒泡机制的事件就不能使用，比如blur、focus等事件，也不是由事件冒泡就一定使用事件委托，比如像mousemove这样的事件，虽然有事件冒泡，但是只能不断通过位置去计算定位，对性能要求高，这时候用事件委托反而起到了负作用

事件委托也会影响页面性能，主要影响因素有：

-   元素中，绑定事件委托的次数；
-   点击的最底层元素，到绑定事件元素之间的`DOM`层数；

所以在使用事件委托的时候，尽量找最近的公共父节点，如果可以的话还可以将多个事件的绑定，合并到一次事件委托中去，由这个总事件委托，进行事件分发
